* 주요기능

- 무인도
(정의) 커뮤니티와 카페리뷰, 보부상을 모아 하나로 모아둔 게시판이다. 
관리자가 부적절하다고 판단한 글이나 신고받은 글 중에서 그 정도가 심각한 글은 바로 삭제하고, 말머리 지정 실수 등으로 참작 여지가 있는 글은 무인도 게시판으로 옮긴다. 이 때, 실제로 row가 이동하는 것이 아니라 각 테이블의 무인도 컬럼에 1을 업데이트한다. 본인의 작성글이 무인도 게시판에 옮겨진 회원은 '표류자'등급이 되어 글쓰기와 댓글 쓰기가 불가능해지는 등의 제약을 받게 된다.

(상태) 무인도 게시판의 글 목록에는 다른 게시판들과 다르게 '상태' 항목이 있는데, 이것은 글의 수정 상태를 나타낸다. 무인도컬럼이 1일 때는 수정 전, 2일 때는 수정 완료를 뿌려주어, 이용자가 글을 수정하는 데에 용이하도록 한다. 

(검색) 게시판 이름과 제목, 작성자, 내용으로 검색이 가능하게 하여 이용자가 본인의 글을 쉽게 찾아 수정할 수 있도록 구현하였다. 

(상세) 3가지 테이블을 UNION으로 합쳐서 글 번호가 중복되기 때문에 글번호는 RNUM으로 뿌려주고, 페이징도 이를 바탕으로 구현하였다. 목록에서 글 제목을 누르면 해당 게시판의 해당 글로 이동한다. 

(복구) 회원이 글을 수정하여 '수정 완료' 상태가 되면 관리자가 이를 확인 후, 해당 게시판으로 보낸다. 동시에 회원의 등급도 보유한 포인트에 따라 복구된다. 



-------------------------------------------------------------------------------------
- 보부상
(정의) 보드게임 중고거래를 위한 게시판이다. 판매, 구매, 거래완료로 말머리가 나뉘어 목적에 따라 이용할 수 있게 하였다. 목록 뷰는 이미지 리스트와 테이블 리스트를 기호에 따라 전환하여 볼 수 있도록 구현하였다. 이미지 목록에는 관련 보드게임을 태그로 노출하여 게임정보를 손쉽게 확인하도록 하였다.

(검색) 말머리와 작성자, 제목, 내용 등으로 검색할 수 있도록 구현하였다.

(글쓰기) 판매 혹은 구매하고자 하는 게임과 가격을 String으로 받아 StringTokenizer 로 끊어서 insert하도록 하였다.

(상세 및 결제) 판매 혹은 구매하고자 하는 게임과 가격을 multiple-value로 연결하여 출력하도록 하였다. 판매글에서는 '거래하기' 버튼을 출력하여 구매자가 구매요청을 할 수 있도록 했는데, 로그인을 하지 않았을 경우에는 로그인 뷰로 페이지 이동을 하게 하였다. 
'거래하기'를 누르면 판매자가 올린 게임을 선택하여 구매를 요청할 수 있다. 미선택 시 선택하도록 강제하였다.
구매 요청을 한 이후의 진행 상황은 마이페이지-내거래 에서 확인할 수 있다.(상태 1) 구매자는 결제 전에 구매를 취소할 수 있다.(거래취소: 상태7) 결제는 아임포트 rest api를 이용하여 연동하였는데 혜민 씨의 도움을 받았다. 카카오페이로 결제를 진행하고 나면(상태2) 판매자는 배송을 시작한다. 배송지는 구매자와의 쪽지를 통해 받고, 택배 발송 이후에 택배사와 운송장을 입력하면 '상태'는 배송중이 된다.(상태3) 구매자는 상품을 받고 문제가 없을 경우 수취완료를 한다.(상태4) 수취완료를 하지 않아도 배송 시작 후 7일 후에 수취완료가 되기 때문에 이상이 있다면 판매자에게 문의해야 한다. 만약 판매자가 조취를 취하지 않으면 관리자에게 문의하여 환불받을 수 있다. 
판매자에게 입금이 완료되면 거래가 완료된다.(상태5)

(거래 상태: 1. 결제대기 2.결제완료 3.배송중(운송장입력 후 기다리기) 4.배송완료(관리자 승인 후) 5.거래완료(판매자에게 입금완료) 7. 거래취소)


(구매요청) 무인도에 있는 글은 관리자 확인 이후 정상 처리 될 때까지 구매요청을 할 수 없도록 하였다.



-------------------------------------------------------------------------------------
- 후원

(정의)카카오페이로 후원금을 결제할 수 있다. 후원금을 결제하면 금액에 따른 포인트가 적립된다.
 후원내역은 마이페이지-내후원에서 확인 가능하다.


==============================================================

<후기 및 힘들었던 점>
안전결제를 구현하는 부분이 가장 힘들었지만, 보부상 게시글을 수정하는 것도 예상 외로 난관이었다.
수정 시에 multi-value로 받아서  trade_game 테이블과 trade 테이블을 동시에 update 해야 했는데 그 와중에 3가지 경우를 고려해야 했다. 결국 오라클의 pl/sql을 일부나마 공부하여 익명블럭으로 update를 했다. 
이후에 또 쓸 일이 많았고, 특히 파일 테이블이나 게임 테이블에서 multi-value를 입력하는 상황마다 유용하게 사용해서 공부하길 잘했다고 느꼈다. 
(제일 간지폭발하는 declare 사진 첨부 )
팀원들이 힘들어하거나 지칠 때, 다독이면서 한층 성장한 듯하다.​ 팀원들과 서로 가르쳐주며 팀워크를 맞추는 법과 협동정신을 배웠다. 팀장으로서 책임감을 가지고 구심점이 되려 노력했는데, 팀원들이 잘 따라주어 고마웠다.










